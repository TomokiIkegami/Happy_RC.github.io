<!DOCTYPE html>
<html lang="ja"><head>
  <title>
     Bluetooth モジュールでRCサーボ・ESCを制御したい [第7回-回路をシンプル＆コンパクトに] -  Happy RC Blog !
  </title>
  <meta name="theme-color" content="#a3001b" />
  <meta charset="utf-8" />
  <meta content="width=device-width, initial-scale=1.0" name="viewport" />
  <meta name="description" content="ラジコンが楽しくなるような工作やレポートを掲載したいと思います！ラジコン以外にもやってみて苦労したことや、面白かったことについても記録していく予定です！" />
  <meta name="author" content="Tomoki Ikegami" />

  <link rel="stylesheet" href="/Happy_RC.github.io/css/main.css" />
  <link rel="preconnect" href="https://fonts.gstatic.com" />
  <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;500&family=Ubuntu+Mono&display=swap" rel="stylesheet">
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.0/font/bootstrap-icons.css"
  />
</head>
<body>
    
    <header class="regular-page-header shadow round-corner">
  <div
    style="
      display: flex;
      justify-content: space-between;
      width: 98%;
      margin-bottom: 0.5em;
    "
  >
    <a class="primary-icon" href="/Happy_RC.github.io/" aria-label="home page">
      <i class="bi bi-house-fill"></i>
    </a>
    
  </div>
  <div class="page-title-and-info" style="text-align: center">
    <h1 class="page-title" >
      Bluetooth モジュールでRCサーボ・ESCを制御したい [第7回-回路をシンプル＆コンパクトに]
    </h1>
    
    <p class="document-date">
      2022-09-29 &middot; Tomoki Ikegami
    </p>
    
    <p class="document-description">"RCに搭載できるよう小型で簡単な回路に"</p>
     
  </div>
</header>

    
    <main class="card shadow round-corner">
<h1 id="-目次-----omit-in-toc---">～ 目次 ～ <!-- omit in toc --></h1>
<ul>
<li><a href="#1-%E4%BB%8A%E5%9B%9E%E3%82%84%E3%81%A3%E3%81%9F%E3%81%93%E3%81%A8">1. 今回やったこと</a></li>
<li><a href="#2-%E3%82%B7%E3%83%B3%E3%83%97%E3%83%AB%E3%81%AB%E3%81%97%E3%81%9F%E5%9B%9E%E8%B7%AF%E5%9B%B3">2. シンプルにした回路図</a></li>
<li><a href="#3-%E5%B0%8F%E5%9E%8B%E3%81%AA%E5%9B%9E%E8%B7%AF%E3%82%92%E4%BD%9C%E3%82%8B">3. 小型な回路を作る</a>
<ul>
<li><a href="#31-%E4%BD%BF%E3%81%A3%E3%81%9F%E3%82%82%E3%81%AE">3.1. 使ったもの</a></li>
<li><a href="#32-%E4%BD%9C%E6%A5%AD%E6%89%8B%E9%A0%86">3.2. 作業手順</a></li>
</ul>
</li>
<li><a href="#4-%E8%BB%8A%E4%BD%93%E3%81%AB%E5%8F%96%E3%82%8A%E4%BB%98%E3%81%91">4. 車体に取り付け</a></li>
<li><a href="#5-%E3%82%B5%E3%83%B3%E3%83%97%E3%83%AB%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB">5. サンプルファイル</a></li>
</ul>
<hr>
<h1 id="1-今回やったこと">1. 今回やったこと</h1>
<p>　今まではジャンパ線で回路の配線をしていて、見た目がかなりゴチャゴチャしてました(;&lsquo;∀&rsquo;)</p>
<p>　今回はユニバーサル基板を使って、ゴチャゴチャしてた配線をスッキリします！（一番下の画像みたいに）</p>
  <div align="center">
  <figure><img src="my_bluetooth_rc_car_evolution.jpg"
         alt="自作RCレシーバの変遷"/>
</figure>

  </div>
  <div style="text-align: center;">
  ☝　自作RCレシーバの変遷
  </div>
<h1 id="2-シンプルにした回路図">2. シンプルにした回路図</h1>
<p>　下の画像がその回路図です。</p>
<p>　<a href="https://tomokiikegami.github.io/Happy_RC.github.io/2022/08/30/">前々回</a>の回路と違って、サーボの電源がマイコン（ESP32）から<strong>ESCの内臓UBEC</strong>から供給しています。</p>
<p>　こうするとサーボをよりパワフルに（供給電圧が5Vから6Vにアップ）動かせます。さらにマイコンに過剰な電流が流れないので、マイコンに優しくなって動作も安定しました。</p>
  <div align="center">
  <figure><img src="rc_control_using_esp32_bluetooth_ESC-BEC.svg"
         alt="サーボモータ＆ESC制御用回路"/>
</figure>

  </div>
  <div style="text-align: center;">
  ☝　サーボモータ＆ESC制御用回路
  </div>
<h1 id="3-小型な回路を作る">3. 小型な回路を作る</h1>
<p>　回路図を参考に実際の回路を作っていきます！</p>
<h2 id="31-使ったもの">3.1. 使ったもの</h2>
<ul>
<li>
<p>ESP32-WROOM-32E</p>
</li>
<li>
<p>ユニバーサル基板（ELPA:HK-PKW01H）</p>
</li>
<li>
<p>ピンソケットとピンヘッダ（<a href="https://www.amazon.co.jp/dp/B008QUVM4E/ref=redir_mobile_desktop?_encoding=UTF8&amp;psc=1&amp;ref=ppx_pop_mob_b_asin_title">Amazonのリンク</a>）</p>
</li>
<li>
<p>エナメル線（ELPA:PP-07NH）</p>
<div align="center">
<figure><img src="Happy_RC_receiver_equipments.jpg"
         alt="用意したもの"/>
</figure>

</div>
<div style="text-align: center;">
☝　用意したもの
</div>
</li>
</ul>
<h2 id="32-作業手順">3.2. 作業手順</h2>
<p>　ピンソケット（凹メス側）とピンヘッダ（凸オス側）をユニバーサル基板に半田付けしてから、裏面にエナメル線で配線していきます。</p>
  <div align="center">
  <figure><img src="Happy_RC_receiver_making-step1.jpg"
         alt="手順1-ピンソケットをESP32に合わせて切る（1列19ピンになるように）"/>
</figure>

  </div>
  <div style="text-align: center;">
  ☝　手順1-ピンソケットをESP32に合わせて切る（1列19ピンになるように）
  </div>
  <div align="center">
  <figure><img src="Happy_RC_receiver_making-step2.jpg"
         alt="手順2-ピンソケットを半田付け（あんまきれいに出来ないww）"/>
</figure>

  </div>
  <div style="text-align: center;">
  ☝　手順2-ピンソケットを半田付け（あんまきれいに出来ないww）
  </div>
  <div align="center">
  <figure><img src="Happy_RC_receiver_making-step3.jpg"
         alt="手順3-表向きにして確認（まっすぐ付いてて良かった）"/>
</figure>

  </div>
  <div style="text-align: center;">
  ☝　手順3-表向きにして確認（まっすぐ付いてて良かった）
  </div>
  <div align="center">
  <figure><img src="Happy_RC_receiver_making-step4.jpg"
         alt="手順4-ピンヘッダを切る（1列3ピンになるように）"/>
</figure>

  </div>
  <div style="text-align: center;">
  ☝　手順4-ピンヘッダを切る（1列3ピンになるように。SERVO用とESC用で合わせて2個）
  </div>
  <div align="center">
  <figure><img src="Happy_RC_receiver_making-step5.jpg"
         alt="手順5-ピンヘッダを取り付け＆裏面に配線（注意：ESP32の向きを自分で決めてピンの位置をよく確認）"/>
</figure>

  </div>
  <div style="text-align: center;">
  ☝　手順5-ピンヘッダを取り付け＆裏面に配線（注意：ESP32の向きを自分で決めてピンの位置をよく確認）
  </div>
  <div align="center">
  <figure><img src="Happy_RC_receiver_making-step6.jpg"
         alt="手順7-SERVO＆ESCのGND端子とESP32のGNDをつなぐ"/>
</figure>

  </div>
  <div style="text-align: center;">
  ☝　手順6-SERVO＆ESCのGND端子とESP32のGNDをつなぐ
  </div>
  <div align="center">
  <figure><img src="Happy_RC_receiver_making-step7.jpg"
         alt="手順7-表面の様子"/>
</figure>

  </div>
  <div style="text-align: center;">
  ☝　手順7-表面の様子
  </div>
  <div align="center">
  <figure><img src="Happy_RC_receiver_making-step8.jpg"
         alt="手順8-ESP32を取り付け"/>
</figure>

  </div>
  <div style="text-align: center;">
  ☝　手順8-ESP32を取り付け
  </div>
<p>　ここまで完成したら、動作確認をしてみると良いと思います！（コネクタ差し込む向きの間違え、基板裏面のショートに注意）</p>
<h1 id="4-車体に取り付け">4. 車体に取り付け</h1>
<p>　下の画像のような土台を作って、車体に作成した基板を固定しました。</p>
<p>　下の画像で青いのはバネで、このバネでフレームの内側に部品を押し付けて固定します。</p>
<p>　一番上の古墳みたいなのはESP32です(;^ω^)</p>
  <div align="center">
  <figure><img src="how_to_build_receiver_base.gif"
         alt="土台のイメージ"/>
</figure>

  </div>
  <div style="text-align: center;">
  ☝　土台のイメージ
  </div>
<p>　次に設計した部品を3Dプリンタで作ります！ おっ、カブトムシが家に飛んできたぞ（うれしい）
　<div align="center">
<figure><img src="beetle.jpg"
         alt="カブトムシ飛来！"/>
</figure>
</p>
  </div>
  <div style="text-align: center;">
  ☝　カブトムシ飛来！
  </div>
  <div align="center">
  <figure><img src="Happy_RC_receiver_base_making1.jpg"
         alt="3Dプリンタで部品印刷"/>
</figure>

  </div>
  <div style="text-align: center;">
  ☝　3Dプリンタで部品印刷
  </div>
  <div align="center">
  <figure><img src="Happy_RC_receiver_base_making2.jpg"
         alt="切削で仕上げる（写真はドリル加工）"/>
</figure>

  </div>
  <div style="text-align: center;">
  ☝　切削で仕上げる（写真はドリル加工）
  </div>
<p>　穴は「2.5mmで印刷（実際は少し小さく仕上がる）⇒2.5mmのドリルで仕上げ⇒M3のネジをそのままねじ込む」という感じで組み立てました。</p>
<p>　上手くはまらない部品は粗い金属やすりでゴリゴリ削りました（笑）</p>
  <div align="center">
  <figure><img src="base_assy1.jpg"
         alt="組み立てた様子（上から）"/>
</figure>

  </div>
  <div style="text-align: center;">
  ☝　組み立てた様子（上から）
  </div>
  <div align="center">
  <figure><img src="base_assy2.jpg"
         alt="組み立てた様子（下から）"/>
</figure>

  </div>
  <div style="text-align: center;">
  ☝　組み立てた様子（下から）
  </div>
<p>　最後に車体につけてみます！</p>
  <div align="center">
  <figure><img src="my_bluetooth_rc_car_v3.jpg"
         alt="無事装着できた！"/>
</figure>

  </div>
  <div style="text-align: center;">
  ☝　無事装着できた！
  </div>
  <div align="center">
  <figure><img src="base_assy4.jpg"
         alt="ボディも取り付け可能"/>
</figure>

  </div>
  <div style="text-align: center;">
  ☝　ボディも取り付け可能
  </div>
<p>　ジャンパ線の時とは違って、配線が抜ける心配が減って嬉しいです！</p>
<p>　実験はかどりそう！！</p>
<h1 id="5-サンプルファイル">5. サンプルファイル</h1>
<p>　3Dプリント部品のサンプルファイルをアップします！ FreeCADデータからstlメッシュ等をエクスポートして、3Dプリントができます。</p>
<p>　ECX Barrage 1.9 を利用している方はそのまま使えます！（寸法を調整すればその他の車種に使えると思います）</p>
<p>～ FreeCADファイル(.FCStd) ～</p>
<ul>
<li><a href="%E9%83%A8%E5%93%81A.FCStd">部品A</a>
<div align="center">
<figure><img src="parts_A.png"
         alt="部品Aの画像"/>
</figure>

</div>
</li>
<li><a href="%E9%83%A8%E5%93%81B.FCStd">部品B</a>
<div align="center">
<figure><img src="parts_B.png"
         alt="部品Bの画像"/>
</figure>

</div>
</li>
<li><a href="%E9%83%A8%E5%93%81C.FCStd">部品C</a>
<div align="center">
<figure><img src="parts_C.png"
         alt="部品Cの画像"/>
</figure>

</div>
</li>
<li><a href="%E9%83%A8%E5%93%81D.FCStd">部品D</a>
<div align="center">
<figure><img src="parts_D.png"
         alt="部品Dの画像"/>
</figure>

</div>
</li>
</ul>
<p>～ ユニバーサル基板（ELPA:HK-PKW01H）に使えるカバー ～</p>
<p>　今回の記事で紹介した、ユニバーサル基板（ELPA:HK-PKW01H）の裏面保護に使えるカバーの3Dデータをアップします。また、3Dプリント部品以外で作りたい方のために、寸法（一部）が入った2D図面も載せておきます。</p>
<ul>
<li>
<p><a href="%E5%9F%BA%E6%9D%BF%E8%A3%8F%E9%9D%A2%E3%82%AB%E3%83%90%E3%83%BC.FCStd">基板裏面カバー3Dデータ</a></p>
<div align="center">
<figure><img src="circuit_board_cover.png"
         alt="基板裏面カバーの画像（3Dモデル）"/>
</figure>

</div>
<div style="text-align: center;">
☝　基板裏面カバーの画像（3Dモデル）
</div>
<div align="center">
<figure><img src="%e5%9f%ba%e6%9d%bf%e8%a3%8f%e9%9d%a2%e3%82%ab%e3%83%90%e3%83%bc2D%e5%9b%b3%e9%9d%a2.jpg"
         alt="基板裏面カバーの2D図面"/>
</figure>

</div>
  <div style="text-align: center;">
☝　基板裏面カバーの2D図面
</div></li>
</ul>


    </main><footer>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      TeX: { equationNumbers: {autoNumber: "AMS"} },
      tex2jax: {
        inlineMath: [['$','$']]
      }
    });
  </script>
  
  
  
  
  <div class="prev-next">
    <a
      class="active icon"
      href="/Happy_RC.github.io/2022/09/27/"
      aria-label="Previous Article"
      ><i class="bi bi-arrow-left-circle-fill"></i
    ></a>
    <a
      class="active icon"
      href="/Happy_RC.github.io/2022/10/09/"
      aria-label="Next Article"
      ><i class="bi bi-arrow-right-circle-fill"></i
    ></a>
  </div>
  </div>
  
  <div class="footer shadow round-corner">
    
    <div class="grid-container">
      <div class="footer-recent-posts">
        <h6>Recent Posts</h6>
        <ol>
          
          <li><a href="https://tomokiikegami.github.io/Happy_RC.github.io/2023/04/15/">Bluetooth モジュールでRCサーボ・ESCを制御したい [第12回-アプリデザインに関するTips]</a></li>
          
          <li><a href="https://tomokiikegami.github.io/Happy_RC.github.io/2023/04/03/">Bluetooth モジュールでRCサーボ・ESCを制御したい [第11回-接続状態表示のバグ修正]</a></li>
          
          <li><a href="https://tomokiikegami.github.io/Happy_RC.github.io/2023/03/28/">Motoメモの保存先</a></li>
          
          <li><a href="https://tomokiikegami.github.io/Happy_RC.github.io/2023/03/16/">Bluetooth モジュールでRCサーボ・ESCを制御したい [第10回-スライダ操作式のラジコンアプリに]</a></li>
          
          <li><a href="https://tomokiikegami.github.io/Happy_RC.github.io/2023/02/20/">ラジコンカー用スピードメータ開発！</a></li>
          
          <li><a href="https://tomokiikegami.github.io/Happy_RC.github.io/2023/01/02/">スマホからサーボモータをPWM制御してみた!!</a></li>
          
          <li><a href="https://tomokiikegami.github.io/Happy_RC.github.io/2022/12/30/">自作アプリでBluetooth接続できない！[Runtime Error]</a></li>
          
        </ol>
        <a href="/Happy_RC.github.io/archive">...ALL POSTS</a>
        <hr class="mobile white-hr" />
      </div>
      <div>
        <h6>Sections</h6>
<div class="section-container">
  
  
  <a class="section" href="https://tomokiikegami.github.io/Happy_RC.github.io/post/" aria-label="site sections"
    >Posts</a
  >
  
  
  
  
  
  
</div>

        









<h6>
  Tags
</h6>

<div class="taxa-container">
  
  
    <a class="taxa" href="https://tomokiikegami.github.io/Happy_RC.github.io/tags/arduino/">Arduino</a>
  
  
    <a class="taxa" href="https://tomokiikegami.github.io/Happy_RC.github.io/tags/%E7%84%A1%E7%B7%9A%E9%80%9A%E4%BF%A1/">無線通信</a>
  
  
    <a class="taxa" href="https://tomokiikegami.github.io/Happy_RC.github.io/tags/mit-app-inventor/">MIT App Inventor</a>
  
  
    <a class="taxa" href="https://tomokiikegami.github.io/Happy_RC.github.io/tags/%E3%82%B5%E3%83%BC%E3%83%9C/">サーボ</a>
  
  
    <a class="taxa" href="https://tomokiikegami.github.io/Happy_RC.github.io/tags/%E8%87%AA%E4%BD%9C%E3%82%A2%E3%83%97%E3%83%AA/">自作アプリ</a>
  
  
    <a class="taxa" href="https://tomokiikegami.github.io/Happy_RC.github.io/tags/esc/">ESC</a>
  
  
    <a class="taxa" href="https://tomokiikegami.github.io/Happy_RC.github.io/tags/freecad/">FreeCAD</a>
  
  
    <a class="taxa" href="https://tomokiikegami.github.io/Happy_RC.github.io/tags/3d%E3%83%A2%E3%83%87%E3%83%AA%E3%83%B3%E3%82%B0/">3Dモデリング</a>
  
  
    <a class="taxa" href="https://tomokiikegami.github.io/Happy_RC.github.io/tags/%E6%A9%9F%E6%A2%B0%E8%A8%AD%E8%A8%88/">機械設計</a>
  
  
    <a class="taxa" href="https://tomokiikegami.github.io/Happy_RC.github.io/tags/3d%E3%83%97%E3%83%AA%E3%83%B3%E3%82%BF/">3Dプリンタ</a>
  
  
    <a class="taxa" href="https://tomokiikegami.github.io/Happy_RC.github.io/tags/%E3%82%AE%E3%82%A2/">ギア</a>
  
  
    <a class="taxa" href="https://tomokiikegami.github.io/Happy_RC.github.io/tags/ultimaker-cura/">Ultimaker Cura</a>
  
  
    <a class="taxa" href="https://tomokiikegami.github.io/Happy_RC.github.io/tags/%E3%82%B9%E3%83%9E%E3%83%9B/">スマホ</a>
  
  
    <a class="taxa" href="https://tomokiikegami.github.io/Happy_RC.github.io/tags/arduinodroid/">ArduinoDroid</a>
  
  
    <a class="taxa" href="https://tomokiikegami.github.io/Happy_RC.github.io/tags/html%E3%82%BF%E3%82%B0/">htmlタグ</a>
  
  
    <a class="taxa" href="https://tomokiikegami.github.io/Happy_RC.github.io/tags/hugo/">hugo</a>
  
  
    <a class="taxa" href="https://tomokiikegami.github.io/Happy_RC.github.io/tags/libreoffice-draw/">LibreOffice Draw</a>
  
  
    <a class="taxa" href="https://tomokiikegami.github.io/Happy_RC.github.io/tags/word/">Word</a>
  
  
    <a class="taxa" href="https://tomokiikegami.github.io/Happy_RC.github.io/tags/%E3%83%90%E3%83%83%E3%82%AF%E3%82%A2%E3%83%83%E3%83%97/">バックアップ</a>
  
  
    <a class="taxa" href="https://tomokiikegami.github.io/Happy_RC.github.io/tags/%E3%83%9C%E3%83%87%E3%82%A3%E5%A1%97%E8%A3%85/">ボディ塗装</a>
  
  
    <a class="taxa" href="https://tomokiikegami.github.io/Happy_RC.github.io/tags/%E5%9B%B3%E3%81%AE%E4%BD%9C%E6%88%90/">図の作成</a>
  
  
    <a class="taxa" href="https://tomokiikegami.github.io/Happy_RC.github.io/tags/%E6%96%87%E5%AD%97%E8%A3%85%E9%A3%BE/">文字装飾</a>
  
  
    <a class="taxa" href="https://tomokiikegami.github.io/Happy_RC.github.io/tags/%E8%A8%88%E6%B8%AC%E5%88%B6%E5%BE%A1/">計測制御</a>
  
</div>


<h6>
  Categories
</h6>

<div class="taxa-container">
  
  
    <a class="taxa" href="https://tomokiikegami.github.io/Happy_RC.github.io/categories/%E3%83%A9%E3%82%B8%E3%82%B3%E3%83%B3/">ラジコン</a>
  
  
    <a class="taxa" href="https://tomokiikegami.github.io/Happy_RC.github.io/categories/%E5%82%99%E5%BF%98%E9%8C%B2/">備忘録</a>
  
</div>


        <hr class="mobile white-hr" />
      </div>
    </div>
    
    <div class="footer-info-text">
      <p>
        
        <span>2023</span>
        <span>Tomoki Ikegami.</span>
        <span>I hope to enjoy your RC Life.</span>
      </p>
      <p>
        <a href="https://github.com/urjaacharya/redgood">redgood</a>
        by
        <a
          href="https://www.urjaacharya.com/"
          aria-label="link to urja acharya site"
        >urja acharya</a>
      </p>
    </div>
    <div style="text-align: right; margin-bottom: 0.25em; font-size: 1.2em">
      <a class="primary-icon to-top" href="#" aria-label="navigate to top">
        <i class="bi bi-arrow-up-circle-fill"></i>
      </a>
    </div>
  </div>
</footer>
</body>
</html>
